import{k as B,a8 as U,aa as M,r as R,B as T,x as e,a3 as _,v as r,A as p,u as t,V as n,z as j,C as u,F as V,a9 as N,Y as q,m as z,ao as h,ad as A,ae as E}from"./index-9627d315.js";import{u as H,a as Y}from"./songInfo-2332c86c.js";import{_ as G}from"./playStore-98eee2d0.js";const P=d=>(A("data-v-4e400e39"),d=d(),E(),d),J={class:"flex"},K={class:"text-xl"},O={class:"h-[304px] flex"},Q={class:"flex items-center pl-7 h-full w-full FM rounded-lg"},W={class:"flex flex-col text-white font-bold pl-5"},X={class:"text-xl"},Z={class:"flex mt-2 text-xl h-[38px]"},ee=["onClick"],te=["onClick"],le=["onClick"],se=["onClick"],oe=P(()=>e("button",null,[e("i",{class:"bi bi-chat-square-dots w-[25px] h-[25px] ml-4 hover:text-2xl"})],-1)),ne=P(()=>e("figcaption",{class:"mt-2"},"个性电台",-1)),ie={class:"w-1/6 PC:h-[270px] laptop:h-[204.36px] m-2 ml-0"},ce={class:"mt-2"},ae={class:"w-1/6 PC:h-[270px] laptop:h-[204.36px] m-2 ml-0"},re={class:"mt-2"},pe={class:"w-1/6 PC:h-[270px] laptop:h-[204.36px] m-2 ml-0"},ue={class:"mt-2"},de={class:"w-1/6 PC:h-[270px] laptop:h-[204.36px] m-2 ml-0"},he={class:"mt-2"},me=B({__name:"recommend",async setup(d){let g,f;const m=N(),y=H(),{profile:v}=U(y),l=Y();sessionStorage.getItem("songInfo")==null&&([g,f]=M(()=>Promise.all([l.getPersonalFM(),l.getPLayLists(),l.getRecommendedDaily(),l.getRecommendedDjProgram(),l.getTopSong()])),await g,f());const{topSong:F,recommendedDjProgram:k,recommendedDaily:C,personalFM:o,likeIconFlag:b,unlikeIconFlag:w,playList:I}=U(l),$=()=>{l.$reset(),m.go(0)},s=R([{title:"私人雷达",picUrl:C.value.picUrl},{title:"推荐电台",picUrl:k.value.picUrl},{title:"网友精选",picUrl:I.value.coverImgUrl},{title:"新歌推荐",picUrl:F.value[0].album.blurPicUrl}]),L=()=>{l.getPersonalFM(),l.$reset()},D=()=>{localStorage.setItem("songId",o.value.id)},x=S=>{m.push({path:"/detail",query:{id:S}})};return(S,i)=>{const c=q("ProgressiveImage");return z(),T(V,null,[i[0]||(h(-1),i[0]=e("h1",{class:"text-3xl font-bold"},[_(" 推荐 ")]),h(1),i[0]),i[1]||(h(-1),i[1]=e("div",{class:"mt-2 w-full h-[335px]"},[e("div",J,[e("h1",K,[_(" Hi "),r(e("span",null,n(t(v).nickname),513),[[p,t(v).nickname!=="点击登录"]]),_(" 今日为你推荐 ")]),e("i",{class:"bi bi-arrow-repeat flex flex-1 justify-end mr-4 cursor-pointer",onClick:$})]),e("div",O,[e("figure",{class:"w-1/3 py-2 pr-2",onClick:D},[e("div",{class:"PC:h-[270px] laptop:h-[204.36px] w-full rounded-lg flex",style:j(`background-image: url('${t(o).album.picUrl}')`)},[e("div",Q,[u(c,{"object-cover":"",class:"w-[150px] h-[150px] rounded-lg ml-1",src:t(o).album.picUrl},null,8,["src"]),e("div",W,[e("p",X,n(t(o).name),1),e("p",null,n(t(o).artists[0].name),1),e("div",Z,[e("button",null,[e("i",{class:"bi bi-skip-end-fill w-[28px] h-[28px] text-2xl hover:text-3xl",onClick:L})]),e("button",null,[r(e("i",{class:"bi bi-suit-heart w-[25px] h-[25px] ml-2 hover:text-2xl",onClick:a=>t(l).changeLikeIconStatus(t(o).id)},null,8,ee),[[p,!t(b)]]),r(e("i",{class:"bi bi-suit-heart-fill w-[25px] h-[25px] ml-2 text-red-500 hover:text-2xl",onClick:t(l).changeLikeIconStatus},null,8,te),[[p,t(b)]])]),e("button",null,[r(e("i",{class:"bi bi-heartbreak w-[25px] h-[25px] ml-2 hover:text-2xl",onClick:a=>t(l).changeUnLikeIconStatus(t(o).id)},null,8,le),[[p,!t(w)]]),r(e("i",{class:"bi bi-heartbreak-fill w-[25px] h-[25px] ml-2 text-red-500 hover:text-2xl",onClick:t(l).changeUnLikeIconStatus},null,8,se),[[p,t(w)]])]),oe])])])],4),ne]),e("figure",ie,[u(c,{src:s.value[0].picUrl,class:"w-full h-full rounded-lg hover:cursor-pointer",onClick:a=>x(t(C).id)},null,8,["src","onClick"]),e("figcaption",ce,n(s.value[0].title),1)]),e("figure",ae,[u(c,{src:s.value[1].picUrl,class:"w-full h-full rounded-lg hover:cursor-pointer",onClick:a=>x(t(k).id)},null,8,["src","onClick"]),e("figcaption",re,n(s.value[1].title),1)]),e("figure",pe,[u(c,{src:s.value[2].picUrl,class:"w-full h-full rounded-lg hover:cursor-pointer",onClick:a=>x(t(I).id)},null,8,["src","onClick"]),e("figcaption",ue,n(s.value[2].title),1)]),e("figure",de,[u(c,{src:s.value[3].picUrl,class:"w-full h-full rounded-lg hover:cursor-pointer",onClick:a=>t(m).push("topSong")},null,8,["src","onClick"]),e("figcaption",he,n(s.value[3].title),1)])])]),h(1),i[1])],64)}}});const fe=G(me,[["__scopeId","data-v-4e400e39"]]);export{fe as default};
